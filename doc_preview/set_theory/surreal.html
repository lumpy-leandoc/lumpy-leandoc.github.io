<html><head><link rel="stylesheet" href="../docs_style.css"></head><h1>Surreal numbers</h1>
<p>The basic theory of surreal numbers, built on top of the theory of combinatorial (pre-)games.</p>
<p>A pregame is <span style="background-color:#fdf6e3;color:#657b83;">numeric</span> if all the Left options are strictly smaller than all the Right options,
and all those options are themselves numeric. In terms of combinatorial games, the
numeric games have &quot;frozen&quot;; you can only make your position worse by playing, and Left is some
definite &quot;number&quot; of moves ahead (or behind) Right.</p>
<p>A surreal number is an equivalence class of numeric pregames.</p>
<p>In fact, the surreals form a complete ordered field, containing a copy of the reals (and much else besides!)
but we do not yet have a complete development.</p>
<h2>Order properties</h2>
<p>Surreal numbers inherit the relations <span style="background-color:#fdf6e3;color:#b58900;">≤</span> and <span style="background-color:#fdf6e3;color:#b58900;">&lt;</span> from games, and these relations
satisfy the axioms of a partial order (recall that <span style="background-color:#fdf6e3;color:#657b83;">x </span><span style="background-color:#fdf6e3;color:#b58900;">&lt;</span><span style="background-color:#fdf6e3;color:#657b83;"> y </span><span style="background-color:#fdf6e3;color:#b58900;">↔</span><span style="background-color:#fdf6e3;color:#657b83;"> x </span><span style="background-color:#fdf6e3;color:#b58900;">≤</span><span style="background-color:#fdf6e3;color:#657b83;"> y </span><span style="background-color:#fdf6e3;color:#b58900;">∧ ¬</span><span style="background-color:#fdf6e3;color:#657b83;"> y </span><span style="background-color:#fdf6e3;color:#b58900;">≤</span><span style="background-color:#fdf6e3;color:#657b83;"> x</span> did not hold for games).</p>
<h2>Algebraic operations</h2>
<p>At this point, we have defined addition and negation (from pregames), and shown that surreals
form an additive semigroup. It would be very little work to finish showing that the surreals form
an ordered commutative group.</p>
<p>We define the operations of multiplication and inverse on surreals, but do not yet establish any of the
necessary properties to show the surreals form an ordered field.</p>
<h2>Embeddings</h2>
<p>It would be nice projects to define the group homomorphism <span style="background-color:#fdf6e3;color:#657b83;">surreal </span><span style="background-color:#fdf6e3;color:#859900;">→</span><span style="background-color:#fdf6e3;color:#657b83;"> game</span>, and also
<span style="background-color:#fdf6e3;color:#657b83;">ℤ </span><span style="background-color:#fdf6e3;color:#859900;">→</span><span style="background-color:#fdf6e3;color:#657b83;"> surreal</span>, and then the homomorphic inclusion of the dyadic rationals into surreals, and finally
via dyadic Dedekind cuts the homomorphic inclusion of the reals into the surreals.</p>
<p>One can also map all the cardinals into the surreals!</p>
<h2>References</h2>
<ul>
<li>[Conway, <em>On numbers and games</em>][conway2001]</li>
</ul>
<hr/><div class="decl"><h4>pgame.mul</h4><div class="decl_par"><p>The product of <span style="background-color:#fdf6e3;color:#657b83;">x </span><span style="background-color:#fdf6e3;color:#b58900;">=</span><span style="background-color:#fdf6e3;color:#657b83;"> {xL | xR}</span> and <span style="background-color:#fdf6e3;color:#657b83;">y </span><span style="background-color:#fdf6e3;color:#b58900;">=</span><span style="background-color:#fdf6e3;color:#657b83;"> {yL | yR}</span> is
<span style="background-color:#fdf6e3;color:#657b83;">{xL</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">y </span><span style="background-color:#fdf6e3;color:#b58900;">+</span><span style="background-color:#fdf6e3;color:#657b83;"> x</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">yL </span><span style="background-color:#fdf6e3;color:#b58900;">-</span><span style="background-color:#fdf6e3;color:#657b83;"> xL</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">yL, xR</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">y </span><span style="background-color:#fdf6e3;color:#b58900;">+</span><span style="background-color:#fdf6e3;color:#657b83;"> x</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">yR </span><span style="background-color:#fdf6e3;color:#b58900;">-</span><span style="background-color:#fdf6e3;color:#657b83;"> xR</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">yR | xL</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">y </span><span style="background-color:#fdf6e3;color:#b58900;">+</span><span style="background-color:#fdf6e3;color:#657b83;"> x</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">yR </span><span style="background-color:#fdf6e3;color:#b58900;">-</span><span style="background-color:#fdf6e3;color:#657b83;"> xL</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">yR, x</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">yL </span><span style="background-color:#fdf6e3;color:#b58900;">+</span><span style="background-color:#fdf6e3;color:#657b83;"> xR</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">y </span><span style="background-color:#fdf6e3;color:#b58900;">-</span><span style="background-color:#fdf6e3;color:#657b83;"> xR</span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;">yL }</span>.</p>
</div></div><div class="decl"><h4>pgame.inv_ty</h4><div class="decl_par"><p>Because the two halves of the definition of inv produce more elements
of each side, we have to define the two families inductively.
This is the indexing set for the function, and <span style="background-color:#fdf6e3;color:#657b83;">inv_val</span> is the function part.</p>
</div></div><div class="decl"><h4>pgame.inv_val</h4><div class="decl_par"><p>Because the two halves of the definition of inv produce more elements
of each side, we have to define the two families inductively.
This is the function part, defined by recursion on <span style="background-color:#fdf6e3;color:#657b83;">inv_ty</span>.</p>
</div></div><div class="decl"><h4>pgame.inv'</h4><div class="decl_par"><p>The inverse of a positive surreal number <span style="background-color:#fdf6e3;color:#657b83;">x </span><span style="background-color:#fdf6e3;color:#b58900;">=</span><span style="background-color:#fdf6e3;color:#657b83;"> {L | R}</span> is
given by <span style="background-color:#fdf6e3;color:#657b83;">x</span><span style="background-color:#fdf6e3;color:#b58900;">⁻¹ =</span><span style="background-color:#fdf6e3;color:#657b83;"> {</span><span style="background-color:#fdf6e3;color:#6c71c4;">0</span><span style="background-color:#fdf6e3;color:#657b83;">, (</span><span style="background-color:#fdf6e3;color:#6c71c4;">1 </span><span style="background-color:#fdf6e3;color:#b58900;">+</span><span style="background-color:#fdf6e3;color:#657b83;"> (R </span><span style="background-color:#fdf6e3;color:#b58900;">-</span><span style="background-color:#fdf6e3;color:#657b83;"> x) </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> x</span><span style="background-color:#fdf6e3;color:#b58900;">⁻¹</span><span style="background-color:#fdf6e3;color:#657b83;">L) </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> R, (</span><span style="background-color:#fdf6e3;color:#6c71c4;">1 </span><span style="background-color:#fdf6e3;color:#b58900;">+</span><span style="background-color:#fdf6e3;color:#657b83;"> (L </span><span style="background-color:#fdf6e3;color:#b58900;">-</span><span style="background-color:#fdf6e3;color:#657b83;"> x) </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> x</span><span style="background-color:#fdf6e3;color:#b58900;">⁻¹</span><span style="background-color:#fdf6e3;color:#657b83;">R) </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> L | (</span><span style="background-color:#fdf6e3;color:#6c71c4;">1 </span><span style="background-color:#fdf6e3;color:#b58900;">+</span><span style="background-color:#fdf6e3;color:#657b83;"> (L </span><span style="background-color:#fdf6e3;color:#b58900;">-</span><span style="background-color:#fdf6e3;color:#657b83;"> x) </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> x</span><span style="background-color:#fdf6e3;color:#b58900;">⁻¹</span><span style="background-color:#fdf6e3;color:#657b83;">L) </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> L, (</span><span style="background-color:#fdf6e3;color:#6c71c4;">1 </span><span style="background-color:#fdf6e3;color:#b58900;">+</span><span style="background-color:#fdf6e3;color:#657b83;"> (R </span><span style="background-color:#fdf6e3;color:#b58900;">-</span><span style="background-color:#fdf6e3;color:#657b83;"> x) </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> x</span><span style="background-color:#fdf6e3;color:#b58900;">⁻¹</span><span style="background-color:#fdf6e3;color:#657b83;">R) </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> R}</span>.
Because the two halves <span style="background-color:#fdf6e3;color:#657b83;">x</span><span style="background-color:#fdf6e3;color:#b58900;">⁻¹</span><span style="background-color:#fdf6e3;color:#657b83;">L, x</span><span style="background-color:#fdf6e3;color:#b58900;">⁻¹</span><span style="background-color:#fdf6e3;color:#657b83;">R</span> of <span style="background-color:#fdf6e3;color:#657b83;">x</span><span style="background-color:#fdf6e3;color:#b58900;">⁻¹</span> are used in their own
definition, the sets and elements are inductively generated.</p>
</div></div><div class="decl"><h4>pgame.inv</h4><div class="decl_par"><p>The inverse of a surreal number in terms of the inverse on
positive surreals.</p>
</div></div><div class="decl"><h4>pgame.numeric</h4><div class="decl_par"><p>A pre-game is numeric if
everything in the L set is less than everything in the R set,
and all the elements of L and R are also numeric.</p>
</div></div><div class="decl"><h4>pgame.lt_iff_le_not_le</h4><div class="decl_par"><p>On numeric pre-games, <span style="background-color:#fdf6e3;color:#b58900;">&lt;</span> and <span style="background-color:#fdf6e3;color:#b58900;">≤</span> satisfy the axioms of a partial order (even though they
don't on all pre-games).</p>
</div></div><div class="decl"><h4>surreal.equiv</h4><div class="decl_par"><p>The equivalence on numeric pre-games.</p>
</div></div><div class="decl"><h4>surreal</h4><div class="decl_par"><p>The type of surreal numbers. These are the numeric pre-games quotiented
by the equivalence relation <span style="background-color:#fdf6e3;color:#657b83;">x ≈ y </span><span style="background-color:#fdf6e3;color:#b58900;">↔</span><span style="background-color:#fdf6e3;color:#657b83;"> x </span><span style="background-color:#fdf6e3;color:#b58900;">≤</span><span style="background-color:#fdf6e3;color:#657b83;"> y </span><span style="background-color:#fdf6e3;color:#b58900;">∧</span><span style="background-color:#fdf6e3;color:#657b83;"> y </span><span style="background-color:#fdf6e3;color:#b58900;">≤</span><span style="background-color:#fdf6e3;color:#657b83;"> x</span>. In the quotient,
the order becomes a total order.</p>
</div></div><div class="decl"><h4>surreal.mk</h4><div class="decl_par"><p>Construct a surreal number from a numeric pre-game.</p>
</div></div><div class="decl"><h4>surreal.lift</h4><div class="decl_par"><p>Lift an equivalence-respecting function on pre-games to surreals.</p>
</div></div><div class="decl"><h4>surreal.lift₂</h4><div class="decl_par"><p>Lift a binary equivalence-respecting function on pre-games to surreals.</p>
</div></div><div class="decl"><h4>surreal.le</h4><div class="decl_par"><p>The relation <span style="background-color:#fdf6e3;color:#657b83;">x </span><span style="background-color:#fdf6e3;color:#b58900;">≤</span><span style="background-color:#fdf6e3;color:#657b83;"> y</span> on surreals.</p>
</div></div><div class="decl"><h4>surreal.lt</h4><div class="decl_par"><p>The relation <span style="background-color:#fdf6e3;color:#657b83;">x </span><span style="background-color:#fdf6e3;color:#b58900;">&lt;</span><span style="background-color:#fdf6e3;color:#657b83;"> y</span> on surreals.</p>
</div></div></html>