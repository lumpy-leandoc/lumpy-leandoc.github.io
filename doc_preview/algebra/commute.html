<html><head><link rel="stylesheet" href="../docs_style.css"></head><h1>Commuting pairs of elements in monoids</h1>
<h2>Main definitions</h2>
<ul>
<li><span style="background-color:#fdf6e3;color:#657b83;">commute a b</span> : <span style="background-color:#fdf6e3;color:#657b83;">a </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> b </span><span style="background-color:#fdf6e3;color:#b58900;">=</span><span style="background-color:#fdf6e3;color:#657b83;"> b </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> a</span></li>
<li><span style="background-color:#fdf6e3;color:#657b83;">centralizer a</span> : <span style="background-color:#fdf6e3;color:#657b83;">{ x | commute a x }</span></li>
<li><span style="background-color:#fdf6e3;color:#657b83;">set.centralizer s</span> : elements that commute with all <span style="background-color:#fdf6e3;color:#657b83;">a ∈ s</span></li>
</ul>
<p>We prove that <span style="background-color:#fdf6e3;color:#657b83;">centralizer</span> and <span style="background-color:#fdf6e3;color:#657b83;">set_centralilzer</span> are submonoid/subgroups/subrings depending on the available structures, and provide operations on <span style="background-color:#fdf6e3;color:#657b83;">commute _ _</span>.</p>
<p>E.g., if <span style="background-color:#fdf6e3;color:#657b83;">a</span>, <span style="background-color:#fdf6e3;color:#657b83;">b</span>, and c are elements of a semiring, and that <span style="background-color:#fdf6e3;color:#657b83;">hb : commute a b</span> and <span style="background-color:#fdf6e3;color:#657b83;">hc : commute a c</span>.  Then <span style="background-color:#fdf6e3;color:#657b83;">hb.pow_left </span><span style="background-color:#fdf6e3;color:#6c71c4;">5</span> proves
<span style="background-color:#fdf6e3;color:#657b83;">commute (a ^ </span><span style="background-color:#fdf6e3;color:#6c71c4;">5</span><span style="background-color:#fdf6e3;color:#657b83;">) b</span> and <span style="background-color:#fdf6e3;color:#657b83;">(hb.pow_right </span><span style="background-color:#fdf6e3;color:#6c71c4;">2</span><span style="background-color:#fdf6e3;color:#657b83;">).add_right (hb.mul_right hc)</span>
proves <span style="background-color:#fdf6e3;color:#657b83;">commute a (b ^ </span><span style="background-color:#fdf6e3;color:#6c71c4;">2 </span><span style="background-color:#fdf6e3;color:#b58900;">+</span><span style="background-color:#fdf6e3;color:#657b83;"> b </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> c)</span>.</p>
<p>Lean does not immediately recognise these terms as equations,
so for rewriting we need syntax like <span style="background-color:#fdf6e3;color:#657b83;">rw [(hb.pow_left </span><span style="background-color:#fdf6e3;color:#6c71c4;">5</span><span style="background-color:#fdf6e3;color:#657b83;">).eq]</span>
rather than just <span style="background-color:#fdf6e3;color:#657b83;">rw [hb.pow_left </span><span style="background-color:#fdf6e3;color:#6c71c4;">5</span><span style="background-color:#fdf6e3;color:#657b83;">]</span>.</p>
<h2>Implementation details</h2>
<p>Most of the proofs come from the properties of <span style="background-color:#fdf6e3;color:#657b83;">semiconj_by</span>.</p>
<hr/><div class="decl"><h4>commute</h4><div class="decl_par"><p>Two elements commute, if <span style="background-color:#fdf6e3;color:#657b83;">a </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> b </span><span style="background-color:#fdf6e3;color:#b58900;">=</span><span style="background-color:#fdf6e3;color:#657b83;"> b </span><span style="background-color:#fdf6e3;color:#b58900;">*</span><span style="background-color:#fdf6e3;color:#657b83;"> a</span>.</p>
</div></div><div class="decl"><h4>commute.eq</h4><div class="decl_par"><p>Equality behind <span style="background-color:#fdf6e3;color:#657b83;">commute a b</span>; useful for rewriting.</p>
</div></div><div class="decl"><h4>commute.refl</h4><div class="decl_par"><p>Any element commutes with itself.</p>
</div></div><div class="decl"><h4>commute.symm</h4><div class="decl_par"><p>If <span style="background-color:#fdf6e3;color:#657b83;">a</span> commutes with <span style="background-color:#fdf6e3;color:#657b83;">b</span>, then <span style="background-color:#fdf6e3;color:#657b83;">b</span> commutes with <span style="background-color:#fdf6e3;color:#657b83;">a</span>.</p>
</div></div><div class="decl"><h4>commute.mul_right</h4><div class="decl_par"><p>If <span style="background-color:#fdf6e3;color:#657b83;">a</span> commutes with both <span style="background-color:#fdf6e3;color:#657b83;">b</span> and <span style="background-color:#fdf6e3;color:#657b83;">c</span>, then it commutes with their product.</p>
</div></div><div class="decl"><h4>commute.mul_left</h4><div class="decl_par"><p>If both <span style="background-color:#fdf6e3;color:#657b83;">a</span> and <span style="background-color:#fdf6e3;color:#657b83;">b</span> commute with <span style="background-color:#fdf6e3;color:#657b83;">c</span>, then their product commutes with <span style="background-color:#fdf6e3;color:#657b83;">c</span>.</p>
</div></div><div class="decl"><h4>centralizer</h4><div class="decl_par"><p>Centralizer of an element <span style="background-color:#fdf6e3;color:#657b83;">a : S</span> is the set of elements that commute with <span style="background-color:#fdf6e3;color:#657b83;">a</span>.</p>
</div></div><div class="decl"><h4>set.centralizer</h4><div class="decl_par"><p>Centralizer of a set <span style="background-color:#fdf6e3;color:#657b83;">T</span> is the set of elements that commute with all <span style="background-color:#fdf6e3;color:#657b83;">a ∈ T</span>.</p>
</div></div></html>